!function(e,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?exports.AnimPanel=n():e.AnimPanel=n()}(this,function(){return function(e){function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}var t={};return n.m=e,n.c=t,n.p="",n(0)}([function(e,n,t){var r=t(1),o=t(3),i=t(4),a=t(5),s=t(6);e.exports=function(e,n){var t={animPanelBaseClass:"anim-panel",sliderSelector:".js-slider",timelineTimeDataAttr:"data-timeline-time",playSelector:".js-play",pauseSelector:".js-pause",restartSelector:".js-restart",timescaleSelector:".js-timescale",activeTimescaleClass:"is-active",labelsSelector:".js-anim-panel-labels",timeSelector:".js-time",loopInSelector:".js-loop-in",loopOutSelector:".js-loop-out",loopClearSelector:".js-loop-clear",shouldUpdateSliderFromTimeline:!0,loopMarkerInSelector:".js-loop-marker-in",loopMarkerOutSelector:".js-loop-marker-out",loopIn:null,loopOut:null},l=function(e,n){var t={};for(var r in e)t[r]=e[r];for(var r in n)t[r]=n[r];return t};t.settings=l({consoleTime:!1},n);var c=function(){u(),d(),f(),m(),v(),g(),b()},u=function(){var e=document.createElement("div");e.className+=t.animPanelBaseClass,e.innerHTML=i,document.getElementsByTagName("body")[0].appendChild(e)},d=function(){var e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",n.styleSheet?(n.styleSheet.cssText+=r,n.styleSheet.cssText+=o):(n.appendChild(document.createTextNode(r)),n.appendChild(document.createTextNode(o))),e.appendChild(n)},f=function(){t.sliderEl=document.querySelector(t.sliderSelector),a.create(t.sliderEl,{start:[0],range:{min:[0],max:[100]}}),t.sliderEl.noUiSlider.on("start",function(){p(),t.shouldUpdateSliderFromTimeline=!1,e.pause()}),t.sliderEl.noUiSlider.on("end",function(){h(),t.shouldUpdateSliderFromTimeline=!0})},p=function(){t.sliderEl.noUiSlider.on("slide",function(n,t){e.progress(n[0]/100).pause()})},h=function(){t.sliderEl.noUiSlider.off("slide")},m=function(){var n=document.querySelector(t.labelsSelector);if("undefined"==typeof e.getLabelsArray){var r=document.createElement("p");return r.innerHTML="Use TimelineMax to show labels.",void n.appendChild(r)}var o=e.getLabelsArray();o.forEach(function(r,o){var i=document.createElement("button");i.setAttribute("type","button"),i.setAttribute(t.timelineTimeDataAttr,r.time),i.innerHTML=r.name,n.appendChild(i),i.addEventListener("click",function(n){e.gotoAndPlay(r.name)})})},v=function(){E(),s.getItem("loopIn",function(n,r){r&&(t.loopIn=r,e.time(t.loopIn),k())}),s.getItem("loopOut",function(e,n){n&&(t.loopOut=n,k())})},g=function(){document.querySelector(t.playSelector).addEventListener("click",b.bind(t)),document.querySelector(t.pauseSelector).addEventListener("click",y.bind(t)),document.querySelector(t.restartSelector).addEventListener("click",S.bind(t));for(var n=document.querySelectorAll(t.timescaleSelector),r=0;r<n.length;r++){var o=n[r],i=o.getAttribute("data-timescale");o.addEventListener("click",U.bind(t,o,i))}document.querySelector(t.loopInSelector).addEventListener("click",w.bind(t)),document.querySelector(t.loopOutSelector).addEventListener("click",x.bind(t)),document.querySelector(t.loopClearSelector).addEventListener("click",_.bind(t)),e.eventCallback("onUpdate",C.bind(t))},b=function(n){e.play(),document.querySelector(t.pauseSelector).classList.remove(t.activeTimescaleClass)},y=function(n){e.pause(),document.querySelector(t.pauseSelector).classList.add(t.activeTimescaleClass)},S=function(n){e.timeScale(1),e.time(t.loopIn),document.querySelector(t.pauseSelector).classList.remove(t.activeTimescaleClass)},w=function(n){var r=e.totalTime();r>t.loopOut||(s.setItem("loopIn",r,function(e,n){}),t.loopIn=r,k(),console.log("Loop In Set: ",r))},x=function(n){var r=e.totalTime();r<t.loopIn||(s.setItem("loopOut",r,function(e,n){}),t.loopOut=r,k(),console.log("Loop Out Set: ",r))},_=function(e){s.setItem("loopIn",null,function(e,n){}),s.setItem("loopOut",null,function(e,n){}),E()},E=function(n){t.loopIn=0,t.loopOut=e.totalDuration(),k(),console.log("Loop Reset: In "+t.loopIn+", Out "+t.loopOut)},k=function(){var n=document.querySelector(t.loopMarkerInSelector),r=document.querySelector(t.loopMarkerOutSelector),o=t.loopIn/e.totalDuration(),i=t.loopOut/e.totalDuration();n.style.left=100*o+"%",r.style.left=100*i+"%"},C=function(){if(I(e.totalTime()),e.totalTime()>=t.loopOut&&e.time(t.loopIn),t.shouldUpdateSliderFromTimeline){var n=100*e.progress();t.sliderEl.noUiSlider.set(n)}},I=function(e){var n=document.querySelector(t.timeSelector),r=Math.round(100*e)/100;n.innerHTML=r},U=function(n,r){for(var o=document.querySelectorAll(t.timescaleSelector),i=0;i<o.length;i++){var a=o[i];a.classList.remove(t.activeTimescaleClass)}n.classList.add(t.activeTimescaleClass),e.timeScale(r).play()};return c(),t}},function(e,n,t){n=e.exports=t(2)(),n.push([e.id,'.anim-panel {\n  position: fixed;\n  top: -1px;\n  right: 20px;\n  width: 340px;\n  min-height: 132px;\n  background-color: rgba(255, 255, 255, 0.85);\n  box-shadow: 0 0 0 1px rgba(0, 0, 0, 0.1), 0 0 10px rgba(0, 0, 0, 0.05);\n  padding-left: 40px;\n  padding-right: 40px;\n  font-family: "Menlo", "Lucida Grande", "Lucida Sans Unicode", "Lucida Sans", Geneva, Verdana, sans-serif;\n  font-size: 12px;\n}\n\n.anim-panel .js-slider {\n  margin-top: 8px;\n}\n\n\n/* Controls */\n\n.anim-panel__control-set {\n  position: absolute;\n  border-right: 1px solid #ddd;\n  width: 40px;\n  top: 0;\n  left: 0;\n  height: 100%;\n}\n\n.anim-panel__control-button {\n  width: 100%;\n  padding: 15px 0;\n  text-align: center;\n  cursor: pointer;\n  margin: 0;\n  background-position: center center;\n  background-repeat: no-repeat;\n  text-indent: -9999px;\n}\n\n.anim-panel__control-button:hover {\n  background-color: rgba(0, 0, 0, 0.03);\n}\n\n.anim-panel__control-button.is-active {\n  animation-name: active-control;\n  animation-duration: 1.5s;\n  animation-timing-function: ease;\n  animation-iteration-count: infinite;\n}\n\n.anim-panel__control-button--play {\n  background-image: url(\'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30"><title>play</title><polygon points="20.657 14.5 11 20.157 11 8.843 20.657 14.5" style="fill:#231f20"/></svg>\');\n}\n\n.anim-panel__control-button--pause {\n  background-image: url(\'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30"><title>pause</title><rect x="10" y="9" width="2" height="11" style="fill:#231f20"/><rect x="18" y="9" width="2" height="11" style="fill:#231f20"/></svg>\');\n}\n\n.anim-panel__control-button--restart {\n  background-image: url(\'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30"><title>restart</title><polygon points="10.343 14.5 20 20.157 20 8.843 10.343 14.5" style="fill:#231f20"/><rect x="8" y="9" width="2" height="11" style="fill:#231f20"/></svg>\');\n}\n\n@keyframes active-control {\n  0%, 100% {\n    opacity: 1;\n  }\n  50% {\n    opacity: 0.3;\n  }\n}\n\n\n/* Time Scale */\n\n.anim-panel__timescale-set {\n  border-bottom: 1px solid #ddd;\n}\n\n.anim-panel__timescale-button {\n  margin: 0;\n  display: inline-block;\n  padding: 15px 0;\n  text-align: center;\n  margin-right: -4px;\n  width: 24.2%;\n  cursor: pointer;\n  color: #aaa;\n}\n\n.anim-panel__timescale-button + .anim-panel__timescale-button {\n  border-left: 1px solid #ddd;\n}\n\n.anim-panel__timescale-button:hover {\n  color: #000;\n}\n\n.anim-panel__timescale-button.is-active {\n  color: #000;\n}\n\n\n/* Labels */\n\n.anim-panel__labels {\n  padding: 13px 12px;\n  padding-top: 0;\n  border-bottom: 1px solid #ddd;\n}\n\n.anim-panel__labels > p {\n  margin-bottom: 0;\n  color: #aaa;\n}\n\n.anim-panel__labels > button {\n  margin-top: 13px;\n}\n\n.anim-panel__labels > button + button {\n  margin-left: 8px;\n}\n\n\n/* Slider */\n\n.anim-panel__slider-set {\n  position: relative;\n  padding-right: 60px;\n  height: 42px;\n}\n\n.anim-panel__slider-set-slider {\n  padding: 8px 15px 0;\n}\n\n.anim-panel__slider-set-time {\n  position: absolute;\n  right: 0;\n  top: 0;\n  height: 100%;\n  border-left: 1px solid #ddd;\n  width: 60px;\n  margin: 0;\n}\n\n.anim-panel__slider-set-time > p {\n  margin: 0;\n  margin-top: 14px;\n  margin-left: 9px;\n}\n\n.anim-panel__slider-set-loop-markers {\n  position: relative;\n  padding-top: 4px;\n}\n\n.loop-marker-in {\n  width: 1px;\n  height: 5px;\n  position: absolute;\n  left: 0;\n  border-left: 1px solid #aaa;\n}\n\n.loop-marker-out {\n  width: 1px;\n  height: 5px;\n  position: absolute;\n  right: 0;\n  border-left: 1px solid #aaa;\n}\n\n\n/* Loop Set */\n\n.anim-panel__loop-set {\n  position: absolute;\n  border-left: 1px solid #ddd;\n  width: 40px;\n  top: 0;\n  right: 0;\n  height: 100%;\n}\n\n.anim-panel__loop-button {\n  width: 100%;\n  padding: 15px 0;\n  text-align: center;\n  cursor: pointer;\n  margin: 0;\n  background-position: center center;\n  background-repeat: no-repeat;\n}\n\n.anim-panel__loop-button:hover {\n  background-color: rgba(0, 0, 0, 0.03);\n}',""])},function(e,n){e.exports=function(){var e=[];return e.toString=function(){for(var e=[],n=0;n<this.length;n++){var t=this[n];t[2]?e.push("@media "+t[2]+"{"+t[1]+"}"):e.push(t[1])}return e.join("")},e.i=function(n,t){"string"==typeof n&&(n=[[null,n,""]]);for(var r={},o=0;o<this.length;o++){var i=this[o][0];"number"==typeof i&&(r[i]=!0)}for(o=0;o<n.length;o++){var a=n[o];"number"==typeof a[0]&&r[a[0]]||(t&&!a[2]?a[2]=t:t&&(a[2]="("+a[2]+") and ("+t+")"),e.push(a))}},e}},function(e,n,t){n=e.exports=t(2)(),n.push([e.id,"\n/* Functional styling;\n * These styles are required for noUiSlider to function.\n * You don't need to change these rules to apply your design.\n */\n.noUi-target,\n.noUi-target * {\n-webkit-touch-callout: none;\n-webkit-user-select: none;\n-ms-touch-action: none;\n  touch-action: none;\n-ms-user-select: none;\n-moz-user-select: none;\n  user-select: none;\n-moz-box-sizing: border-box;\n  box-sizing: border-box;\n}\n.noUi-target {\n  position: relative;\n  direction: ltr;\n}\n.noUi-base {\n  width: 100%;\n  height: 100%;\n  position: relative;\n  z-index: 1; /* Fix 401 */\n}\n.noUi-origin {\n  position: absolute;\n  right: 0;\n  top: 0;\n  left: 0;\n  bottom: 0;\n}\n.noUi-handle {\n  position: relative;\n  z-index: 1;\n}\n.noUi-stacking .noUi-handle {\n/* This class is applied to the lower origin when\n   its values is > 50%. */\n  z-index: 10;\n}\n.noUi-state-tap .noUi-origin {\n-webkit-transition: left 0.3s, top 0.3s;\n  transition: left 0.3s, top 0.3s;\n}\n.noUi-state-drag * {\n  cursor: inherit !important;\n}\n\n/* Painting and performance;\n * Browsers can paint handles in their own layer.\n */\n.noUi-base,\n.noUi-handle {\n  -webkit-transform: translate3d(0,0,0);\n  transform: translate3d(0,0,0);\n}\n\n/* Slider size and handle placement;\n */\n.noUi-horizontal {\n  height: 10px;\n}\n.noUi-horizontal .noUi-handle {\n  width: 24px;\n  height: 24px;\n  left: -12px;\n  top: -8px;\n}\n.noUi-vertical {\n  width: 18px;\n}\n.noUi-vertical .noUi-handle {\n  width: 28px;\n  height: 34px;\n  left: -6px;\n  top: -17px;\n}\n\n/* Styling;\n */\n.noUi-background {\n  background: #FAFAFA;\n  box-shadow: inset 0 1px 1px #f0f0f0;\n}\n.noUi-connect {\n  background: #3FB8AF;\n  box-shadow: inset 0 0 3px rgba(51,51,51,0.45);\n-webkit-transition: background 450ms;\n  transition: background 450ms;\n}\n.noUi-origin {\n  border-radius: 2px;\n}\n.noUi-target {\n  border-radius: 4px;\n  border: 1px solid #D3D3D3;\n  box-shadow: inset 0 1px 1px #F0F0F0, 0 3px 6px -5px #BBB;\n}\n.noUi-target.noUi-connect {\n  box-shadow: inset 0 0 3px rgba(51,51,51,0.45), 0 3px 6px -5px #BBB;\n}\n\n/* Handles and cursors;\n */\n.noUi-draggable {\n  cursor: w-resize;\n}\n.noUi-vertical .noUi-draggable {\n  cursor: n-resize;\n}\n.noUi-handle {\n  border: 1px solid #D9D9D9;\n  border-radius: 3px;\n  background: #FFF;\n  cursor: default;\n  box-shadow: inset 0 0 1px #FFF;\n}\n.noUi-active {\n  box-shadow: inset 0 0 1px #FFF,\n        0 1px 7px #DDD,\n        0 3px 6px -3px #BBB;\n}\n\n/* Handle stripes;\n */\n.noUi-handle:before,\n.noUi-handle:after {\n\n}\n.noUi-handle:after {\n  \n}\n.noUi-vertical .noUi-handle:before,\n.noUi-vertical .noUi-handle:after {\n  \n}\n.noUi-vertical .noUi-handle:after {\n  \n}\n\n/* Disabled state;\n */\n[disabled].noUi-connect,\n[disabled] .noUi-connect {\n  background: #B8B8B8;\n}\n[disabled].noUi-origin,\n[disabled] .noUi-handle {\n  cursor: not-allowed;\n}\n",""])},function(e,n){e.exports='<div class="anim-panel__control-set">\n  <p class="anim-panel__control-button anim-panel__control-button--play js-play" title="Play">Play</p>\n  <p class="anim-panel__control-button anim-panel__control-button--pause js-pause" title="Pause">Pause</p>\n  <p class="anim-panel__control-button anim-panel__control-button--restart js-restart" title="Restart">Restart</p>  \n</div>\n\n<div class="anim-panel__timescale-set">\n  <p class="anim-panel__timescale-button js-timescale is-active" data-timescale="1">1x</p>\n  <p class="anim-panel__timescale-button js-timescale" data-timescale="2">2x</p>\n  <p class="anim-panel__timescale-button js-timescale" data-timescale="0.5">0.5x</p>\n  <p class="anim-panel__timescale-button js-timescale" data-timescale="0.25">0.25x</p>\n</div>\n\n<div class="anim-panel__labels js-anim-panel-labels"></div>\n\n<div class="anim-panel__slider-set">\n  <div class="anim-panel__slider-set-slider">\n    <div class="js-slider"></div>\n    <div class="anim-panel__slider-set-loop-markers">\n      <span class="loop-marker-in js-loop-marker-in"></span>\n      <span class="loop-marker-out js-loop-marker-out"></span>\n    </div>\n  </div>\n\n  <div class="anim-panel__slider-set-time">\n    <p class="js-time">0</p>\n  </div>\n</div>\n\n<div class="anim-panel__loop-set">\n  <p class="anim-panel__loop-button anim-panel__loop-button--in js-loop-in" title="Set In">in</p>\n  <p class="anim-panel__loop-button anim-panel__loop-button--out js-loop-out" title="Set Out">out</p>\n  <p class="anim-panel__loop-button anim-panel__loop-button--clear js-loop-clear" title="Clear">x</p>\n  \n</div>\n'},function(e,n,t){var r,o,i;!function(t){o=[],r=t,i="function"==typeof r?r.apply(n,o):r,!(void 0!==i&&(e.exports=i))}(function(){"use strict";function e(e){return e.filter(function(e){return!this[e]&&(this[e]=!0)},{})}function n(e,n){return Math.round(e/n)*n}function t(e){var n=e.getBoundingClientRect(),t=e.ownerDocument,r=t.documentElement,o=d();return/webkit.*Chrome.*Mobile/i.test(navigator.userAgent)&&(o.x=0),{top:n.top+o.y-r.clientTop,left:n.left+o.x-r.clientLeft}}function r(e){return"number"==typeof e&&!isNaN(e)&&isFinite(e)}function o(e,n,t){l(e,n),setTimeout(function(){c(e,n)},t)}function i(e){return Math.max(Math.min(e,100),0)}function a(e){return Array.isArray(e)?e:[e]}function s(e){var n=e.split(".");return n.length>1?n[1].length:0}function l(e,n){e.classList?e.classList.add(n):e.className+=" "+n}function c(e,n){e.classList?e.classList.remove(n):e.className=e.className.replace(new RegExp("(^|\\b)"+n.split(" ").join("|")+"(\\b|$)","gi")," ")}function u(e,n){return e.classList?e.classList.contains(n):new RegExp("\\b"+n+"\\b").test(e.className)}function d(){var e=void 0!==window.pageXOffset,n="CSS1Compat"===(document.compatMode||""),t=e?window.pageXOffset:n?document.documentElement.scrollLeft:document.body.scrollLeft,r=e?window.pageYOffset:n?document.documentElement.scrollTop:document.body.scrollTop;return{x:t,y:r}}function f(){return window.navigator.pointerEnabled?{start:"pointerdown",move:"pointermove",end:"pointerup"}:window.navigator.msPointerEnabled?{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}:{start:"mousedown touchstart",move:"mousemove touchmove",end:"mouseup touchend"}}function p(e,n){return 100/(n-e)}function h(e,n){return 100*n/(e[1]-e[0])}function m(e,n){return h(e,e[0]<0?n+Math.abs(e[0]):n-e[0])}function v(e,n){return n*(e[1]-e[0])/100+e[0]}function g(e,n){for(var t=1;e>=n[t];)t+=1;return t}function b(e,n,t){if(t>=e.slice(-1)[0])return 100;var r,o,i,a,s=g(t,e);return r=e[s-1],o=e[s],i=n[s-1],a=n[s],i+m([r,o],t)/p(i,a)}function y(e,n,t){if(t>=100)return e.slice(-1)[0];var r,o,i,a,s=g(t,n);return r=e[s-1],o=e[s],i=n[s-1],a=n[s],v([r,o],(t-i)*p(i,a))}function S(e,t,r,o){if(100===o)return o;var i,a,s=g(o,e);return r?(i=e[s-1],a=e[s],o-i>(a-i)/2?a:i):t[s-1]?e[s-1]+n(o-e[s-1],t[s-1]):o}function w(e,n,t){var o;if("number"==typeof n&&(n=[n]),"[object Array]"!==Object.prototype.toString.call(n))throw new Error("noUiSlider: 'range' contains invalid value.");if(o="min"===e?0:"max"===e?100:parseFloat(e),!r(o)||!r(n[0]))throw new Error("noUiSlider: 'range' value isn't numeric.");t.xPct.push(o),t.xVal.push(n[0]),o?t.xSteps.push(!isNaN(n[1])&&n[1]):isNaN(n[1])||(t.xSteps[0]=n[1])}function x(e,n,t){return!n||void(t.xSteps[e]=h([t.xVal[e],t.xVal[e+1]],n)/p(t.xPct[e],t.xPct[e+1]))}function _(e,n,t,r){this.xPct=[],this.xVal=[],this.xSteps=[r||!1],this.xNumSteps=[!1],this.snap=n,this.direction=t;var o,i=[];for(o in e)e.hasOwnProperty(o)&&i.push([e[o],o]);for(i.length&&"object"==typeof i[0][0]?i.sort(function(e,n){return e[0][0]-n[0][0]}):i.sort(function(e,n){return e[0]-n[0]}),o=0;o<i.length;o++)w(i[o][1],i[o][0],this);for(this.xNumSteps=this.xSteps.slice(0),o=0;o<this.xNumSteps.length;o++)x(o,this.xNumSteps[o],this)}function E(e,n){if(!r(n))throw new Error("noUiSlider: 'step' is not numeric.");e.singleStep=n}function k(e,n){if("object"!=typeof n||Array.isArray(n))throw new Error("noUiSlider: 'range' is not an object.");if(void 0===n.min||void 0===n.max)throw new Error("noUiSlider: Missing 'min' or 'max' in 'range'.");if(n.min===n.max)throw new Error("noUiSlider: 'range' 'min' and 'max' cannot be equal.");e.spectrum=new _(n,e.snap,e.dir,e.singleStep)}function C(e,n){if(n=a(n),!Array.isArray(n)||!n.length||n.length>2)throw new Error("noUiSlider: 'start' option is incorrect.");e.handles=n.length,e.start=n}function I(e,n){if(e.snap=n,"boolean"!=typeof n)throw new Error("noUiSlider: 'snap' option must be a boolean.")}function U(e,n){if(e.animate=n,"boolean"!=typeof n)throw new Error("noUiSlider: 'animate' option must be a boolean.")}function N(e,n){if(e.animationDuration=n,"number"!=typeof n)throw new Error("noUiSlider: 'animationDuration' option must be a number.")}function O(e,n){if("lower"===n&&1===e.handles)e.connect=1;else if("upper"===n&&1===e.handles)e.connect=2;else if(n===!0&&2===e.handles)e.connect=3;else{if(n!==!1)throw new Error("noUiSlider: 'connect' option doesn't match handle count.");e.connect=0}}function j(e,n){switch(n){case"horizontal":e.ort=0;break;case"vertical":e.ort=1;break;default:throw new Error("noUiSlider: 'orientation' option is invalid.")}}function A(e,n){if(!r(n))throw new Error("noUiSlider: 'margin' option must be numeric.");if(0!==n&&(e.margin=e.spectrum.getMargin(n),!e.margin))throw new Error("noUiSlider: 'margin' option is only supported on linear sliders.")}function L(e,n){if(!r(n))throw new Error("noUiSlider: 'limit' option must be numeric.");if(e.limit=e.spectrum.getMargin(n),!e.limit)throw new Error("noUiSlider: 'limit' option is only supported on linear sliders.")}function D(e,n){switch(n){case"ltr":e.dir=0;break;case"rtl":e.dir=1,e.connect=[0,2,1,3][e.connect];break;default:throw new Error("noUiSlider: 'direction' option was not recognized.")}}function T(e,n){if("string"!=typeof n)throw new Error("noUiSlider: 'behaviour' must be a string containing options.");var t=n.indexOf("tap")>=0,r=n.indexOf("drag")>=0,o=n.indexOf("fixed")>=0,i=n.indexOf("snap")>=0,a=n.indexOf("hover")>=0;if(r&&!e.connect)throw new Error("noUiSlider: 'drag' behaviour must be used with 'connect': true.");e.events={tap:t||i,drag:r,fixed:o,snap:i,hover:a}}function B(e,n){var t;if(n!==!1)if(n===!0)for(e.tooltips=[],t=0;t<e.handles;t++)e.tooltips.push(!0);else{if(e.tooltips=a(n),e.tooltips.length!==e.handles)throw new Error("noUiSlider: must pass a formatter for all handles.");e.tooltips.forEach(function(e){if("boolean"!=typeof e&&("object"!=typeof e||"function"!=typeof e.to))throw new Error("noUiSlider: 'tooltips' must be passed a formatter or 'false'.")})}}function M(e,n){if(e.format=n,"function"==typeof n.to&&"function"==typeof n.from)return!0;throw new Error("noUiSlider: 'format' requires 'to' and 'from' methods.")}function P(e,n){if(void 0!==n&&"string"!=typeof n&&n!==!1)throw new Error("noUiSlider: 'cssPrefix' must be a string or `false`.");e.cssPrefix=n}function R(e,n){if(void 0!==n&&"object"!=typeof n)throw new Error("noUiSlider: 'cssClasses' must be an object.");if("string"==typeof e.cssPrefix){e.cssClasses={};for(var t in n)n.hasOwnProperty(t)&&(e.cssClasses[t]=e.cssPrefix+n[t])}else e.cssClasses=n}function F(e){var n,t={margin:0,limit:0,animate:!0,animationDuration:300,format:V};n={step:{r:!1,t:E},start:{r:!0,t:C},connect:{r:!0,t:O},direction:{r:!0,t:D},snap:{r:!1,t:I},animate:{r:!1,t:U},animationDuration:{r:!1,t:N},range:{r:!0,t:k},orientation:{r:!1,t:j},margin:{r:!1,t:A},limit:{r:!1,t:L},behaviour:{r:!0,t:T},format:{r:!1,t:M},tooltips:{r:!1,t:B},cssPrefix:{r:!1,t:P},cssClasses:{r:!1,t:R}};var r={connect:!1,direction:"ltr",behaviour:"tap",orientation:"horizontal",cssPrefix:"noUi-",cssClasses:{target:"target",base:"base",origin:"origin",handle:"handle",handleLower:"handle-lower",handleUpper:"handle-upper",horizontal:"horizontal",vertical:"vertical",background:"background",connect:"connect",ltr:"ltr",rtl:"rtl",draggable:"draggable",drag:"state-drag",tap:"state-tap",active:"active",stacking:"stacking",tooltip:"tooltip",pips:"pips",pipsHorizontal:"pips-horizontal",pipsVertical:"pips-vertical",marker:"marker",markerHorizontal:"marker-horizontal",markerVertical:"marker-vertical",markerNormal:"marker-normal",markerLarge:"marker-large",markerSub:"marker-sub",value:"value",valueHorizontal:"value-horizontal",valueVertical:"value-vertical",valueNormal:"value-normal",valueLarge:"value-large",valueSub:"value-sub"}};return Object.keys(n).forEach(function(o){if(void 0===e[o]&&void 0===r[o]){if(n[o].r)throw new Error("noUiSlider: '"+o+"' is required.");return!0}n[o].t(t,void 0===e[o]?r[o]:e[o])}),t.pips=e.pips,t.style=t.ort?"top":"left",t}function z(n,r,p){function h(e,n,t){var r=e+n[0],o=e+n[1];return t?(r<0&&(o+=Math.abs(r)),o>100&&(r-=o-100),[i(r),i(o)]):[r,o]}function m(e,n){e.preventDefault();var t,r,o=0===e.type.indexOf("touch"),i=0===e.type.indexOf("mouse"),a=0===e.type.indexOf("pointer"),s=e;return 0===e.type.indexOf("MSPointer")&&(a=!0),o&&(t=e.changedTouches[0].pageX,r=e.changedTouches[0].pageY),n=n||d(),(i||a)&&(t=e.clientX+n.x,r=e.clientY+n.y),s.pageOffset=n,s.points=[t,r],s.cursor=i||a,s}function v(e,n){var t=document.createElement("div"),o=document.createElement("div"),i=[r.cssClasses.handleLower,r.cssClasses.handleUpper];return e&&i.reverse(),l(o,r.cssClasses.handle),l(o,i[n]),l(t,r.cssClasses.origin),t.appendChild(o),t}function g(e,n,t){switch(e){case 1:l(n,r.cssClasses.connect),l(t[0],r.cssClasses.background);break;case 3:l(t[1],r.cssClasses.background);case 2:l(t[0],r.cssClasses.connect);case 0:l(n,r.cssClasses.background)}}function b(e,n,t){var r,o=[];for(r=0;r<e;r+=1)o.push(t.appendChild(v(n,r)));return o}function y(e,n,t){l(t,r.cssClasses.target),0===e?l(t,r.cssClasses.ltr):l(t,r.cssClasses.rtl),0===n?l(t,r.cssClasses.horizontal):l(t,r.cssClasses.vertical);var o=document.createElement("div");return l(o,r.cssClasses.base),t.appendChild(o),o}function S(e,n){if(!r.tooltips[n])return!1;var t=document.createElement("div");return t.className=r.cssClasses.tooltip,e.firstChild.appendChild(t)}function w(){r.dir&&r.tooltips.reverse();var e=G.map(S);r.dir&&(e.reverse(),r.tooltips.reverse()),H("update",function(n,t,o){e[t]&&(e[t].innerHTML=r.tooltips[t]===!0?n[t]:r.tooltips[t].to(o[t]))})}function x(e,n,t){if("range"===e||"steps"===e)return $.xVal;if("count"===e){var r,o=100/(n-1),i=0;for(n=[];(r=i++*o)<=100;)n.push(r);e="positions"}return"positions"===e?n.map(function(e){return $.fromStepping(t?$.getStep(e):e)}):"values"===e?t?n.map(function(e){return $.fromStepping($.getStep($.toStepping(e)))}):n:void 0}function _(n,t,r){function o(e,n){return(e+n).toFixed(7)/1}var i=$.direction,a={},s=$.xVal[0],l=$.xVal[$.xVal.length-1],c=!1,u=!1,d=0;return $.direction=0,r=e(r.slice().sort(function(e,n){return e-n})),r[0]!==s&&(r.unshift(s),c=!0),r[r.length-1]!==l&&(r.push(l),u=!0),r.forEach(function(e,i){var s,l,f,p,h,m,v,g,b,y,S=e,w=r[i+1];if("steps"===t&&(s=$.xNumSteps[i]),s||(s=w-S),S!==!1&&void 0!==w)for(l=S;l<=w;l=o(l,s)){for(p=$.toStepping(l),h=p-d,g=h/n,b=Math.round(g),y=h/b,f=1;f<=b;f+=1)m=d+f*y,a[m.toFixed(5)]=["x",0];v=r.indexOf(l)>-1?1:"steps"===t?2:0,!i&&c&&(v=0),l===w&&u||(a[p.toFixed(5)]=[l,v]),d=p}}),$.direction=i,a}function E(e,n,t){function o(e,n){var t=n===r.cssClasses.value,o=t?f:p,i=t?u:d;return n+" "+o[r.ort]+" "+i[e]}function i(e,n,t){return'class="'+o(t[1],n)+'" style="'+r.style+": "+e+'%"'}function a(e,o){$.direction&&(e=100-e),o[1]=o[1]&&n?n(o[0],o[1]):o[1],c+="<div "+i(e,r.cssClasses.marker,o)+"></div>",o[1]&&(c+="<div "+i(e,r.cssClasses.value,o)+">"+t.to(o[0])+"</div>")}var s=document.createElement("div"),c="",u=[r.cssClasses.valueNormal,r.cssClasses.valueLarge,r.cssClasses.valueSub],d=[r.cssClasses.markerNormal,r.cssClasses.markerLarge,r.cssClasses.markerSub],f=[r.cssClasses.valueHorizontal,r.cssClasses.valueVertical],p=[r.cssClasses.markerHorizontal,r.cssClasses.markerVertical];return l(s,r.cssClasses.pips),l(s,0===r.ort?r.cssClasses.pipsHorizontal:r.cssClasses.pipsVertical),Object.keys(e).forEach(function(n){a(n,e[n])}),s.innerHTML=c,s}function k(e){var n=e.mode,t=e.density||1,r=e.filter||!1,o=e.values||!1,i=e.stepped||!1,a=x(n,o,i),s=_(t,n,a),l=e.format||{to:Math.round};return K.appendChild(E(s,r,l))}function C(){var e=X.getBoundingClientRect(),n="offset"+["Width","Height"][r.ort];return 0===r.ort?e.width||X[n]:e.height||X[n]}function I(e,n,t){var o;for(o=0;o<r.handles;o++)if(Z[o]===-1)return;void 0!==n&&1!==r.handles&&(n=Math.abs(n-r.dir)),Object.keys(ne).forEach(function(r){var o=r.split(".")[0];e===o&&ne[r].forEach(function(e){e.call(Y,a(z()),n,a(U(Array.prototype.slice.call(ee))),t||!1,Z)})})}function U(e){return 1===e.length?e[0]:r.dir?e.reverse():e}function N(e,n,t,o){var i=function(n){return!K.hasAttribute("disabled")&&(!u(K,r.cssClasses.tap)&&(n=m(n,o.pageOffset),!(e===J.start&&void 0!==n.buttons&&n.buttons>1)&&((!o.hover||!n.buttons)&&(n.calcPoint=n.points[r.ort],void t(n,o)))))},a=[];return e.split(" ").forEach(function(e){n.addEventListener(e,i,!1),a.push([e,i])}),a}function O(e,n){if(navigator.appVersion.indexOf("MSIE 9")===-1&&0===e.buttons&&0!==n.buttonsProperty)return j(e,n);var t,r,o=n.handles||G,i=!1,a=100*(e.calcPoint-n.start)/n.baseSize,s=o[0]===G[0]?0:1;if(t=h(a,n.positions,o.length>1),i=M(o[0],t[s],1===o.length),o.length>1){if(i=M(o[1],t[s?0:1],!1)||i)for(r=0;r<n.handles.length;r++)I("slide",r)}else i&&I("slide",s)}function j(e,n){var t=X.querySelector("."+r.cssClasses.active),o=n.handles[0]===G[0]?0:1;null!==t&&c(t,r.cssClasses.active),e.cursor&&(document.body.style.cursor="",document.body.removeEventListener("selectstart",document.body.noUiListener));var i=document.documentElement;i.noUiListeners.forEach(function(e){i.removeEventListener(e[0],e[1])}),c(K,r.cssClasses.drag),I("set",o),I("change",o),void 0!==n.handleNumber&&I("end",n.handleNumber)}function A(e,n){"mouseout"===e.type&&"HTML"===e.target.nodeName&&null===e.relatedTarget&&j(e,n)}function L(e,n){var t=document.documentElement;if(1===n.handles.length){if(n.handles[0].hasAttribute("disabled"))return!1;l(n.handles[0].children[0],r.cssClasses.active)}e.preventDefault(),e.stopPropagation();var o=N(J.move,t,O,{start:e.calcPoint,baseSize:C(),pageOffset:e.pageOffset,handles:n.handles,handleNumber:n.handleNumber,buttonsProperty:e.buttons,positions:[Z[0],Z[G.length-1]]}),i=N(J.end,t,j,{handles:n.handles,handleNumber:n.handleNumber}),a=N("mouseout",t,A,{handles:n.handles,handleNumber:n.handleNumber});if(t.noUiListeners=o.concat(i,a),e.cursor){document.body.style.cursor=getComputedStyle(e.target).cursor,G.length>1&&l(K,r.cssClasses.drag);var s=function(){return!1};document.body.noUiListener=s,document.body.addEventListener("selectstart",s,!1)}void 0!==n.handleNumber&&I("start",n.handleNumber)}function D(e){var n,i,a=e.calcPoint,s=0;return e.stopPropagation(),G.forEach(function(e){s+=t(e)[r.style]}),n=a<s/2||1===G.length?0:1,G[n].hasAttribute("disabled")&&(n=n?0:1),a-=t(X)[r.style],i=100*a/C(),r.events.snap||o(K,r.cssClasses.tap,r.animationDuration),!G[n].hasAttribute("disabled")&&(M(G[n],i),I("slide",n,!0),I("set",n,!0),I("change",n,!0),void(r.events.snap&&L(e,{handles:[G[n]]})))}function T(e){var n=e.calcPoint-t(X)[r.style],o=$.getStep(100*n/C()),i=$.fromStepping(o);Object.keys(ne).forEach(function(e){"hover"===e.split(".")[0]&&ne[e].forEach(function(e){e.call(Y,i)})})}function B(e){if(e.fixed||G.forEach(function(e,n){N(J.start,e.children[0],L,{handles:[e],handleNumber:n})}),e.tap&&N(J.start,X,D,{handles:G}),e.hover&&N(J.move,X,T,{hover:!0}),e.drag){var n=[X.querySelector("."+r.cssClasses.connect)];l(n[0],r.cssClasses.draggable),e.fixed&&n.push(G[n[0]===G[0]?1:0].children[0]),n.forEach(function(e){N(J.start,e,L,{handles:G})})}}function M(e,n,t){var o=e!==G[0]?1:0,a=Z[0]+r.margin,s=Z[1]-r.margin,u=Z[0]+r.limit,d=Z[1]-r.limit;return G.length>1&&(n=o?Math.max(n,a):Math.min(n,s)),t!==!1&&r.limit&&G.length>1&&(n=o?Math.min(n,u):Math.max(n,d)),n=$.getStep(n),n=i(n),n!==Z[o]&&(window.requestAnimationFrame?window.requestAnimationFrame(function(){e.style[r.style]=n+"%"}):e.style[r.style]=n+"%",e.previousSibling||(c(e,r.cssClasses.stacking),n>50&&l(e,r.cssClasses.stacking)),Z[o]=n,ee[o]=$.fromStepping(n),I("update",o),!0)}function P(e,n){var t,o,i;for(r.limit&&(e+=1),t=0;t<e;t+=1)o=t%2,i=n[o],null!==i&&i!==!1&&("number"==typeof i&&(i=String(i)),i=r.format.from(i),(i===!1||isNaN(i)||M(G[o],$.toStepping(i),t===3-r.dir)===!1)&&I("update",o))}function R(e,n){var t,i,s=a(e);for(n=void 0===n||!!n,r.dir&&r.handles>1&&s.reverse(),r.animate&&Z[0]!==-1&&o(K,r.cssClasses.tap,r.animationDuration),t=G.length>1?3:1,1===s.length&&(t=1),P(t,s),i=0;i<G.length;i++)null!==s[i]&&n&&I("set",i)}function z(){var e,n=[];for(e=0;e<r.handles;e+=1)n[e]=r.format.to(ee[e]);return U(n)}function q(){for(var e in r.cssClasses)r.cssClasses.hasOwnProperty(e)&&c(K,r.cssClasses[e]);for(;K.firstChild;)K.removeChild(K.firstChild);delete K.noUiSlider}function V(){var e=Z.map(function(e,n){var t=$.getApplicableStep(e),r=s(String(t[2])),o=ee[n],i=100===e?null:t[2],a=Number((o-t[2]).toFixed(r)),l=0===e?null:a>=t[1]?t[2]:t[0]||!1;return[l,i]});return U(e)}function H(e,n){ne[e]=ne[e]||[],ne[e].push(n),"update"===e.split(".")[0]&&G.forEach(function(e,n){I("update",n)})}function W(e){var n=e&&e.split(".")[0],t=n&&e.substring(n.length);Object.keys(ne).forEach(function(e){var r=e.split(".")[0],o=e.substring(r.length);n&&n!==r||t&&t!==o||delete ne[e]})}function Q(e,n){var t=z(),o=F({start:[0,0],margin:e.margin,limit:e.limit,step:void 0===e.step?r.singleStep:e.step,range:e.range,animate:e.animate,snap:void 0===e.snap?r.snap:e.snap});["margin","limit","range","animate"].forEach(function(n){void 0!==e[n]&&(r[n]=e[n])}),o.spectrum.direction=$.direction,$=o.spectrum,Z=[-1,-1],R(e.start||t,n)}var X,G,Y,J=f(),K=n,Z=[-1,-1],$=r.spectrum,ee=[],ne={};if(K.noUiSlider)throw new Error("Slider was already initialized.");return X=y(r.dir,r.ort,K),G=b(r.handles,r.dir,X),g(r.connect,K,G),r.pips&&k(r.pips),r.tooltips&&w(),Y={destroy:q,steps:V,on:H,off:W,get:z,set:R,updateOptions:Q,options:p,target:K,pips:k},B(r.events),Y}function q(e,n){if(!e.nodeName)throw new Error("noUiSlider.create requires a single element.");var t=F(n,e),r=z(e,t,n);return r.set(t.start),e.noUiSlider=r,r}_.prototype.getMargin=function(e){return 2===this.xPct.length&&h(this.xVal,e)},_.prototype.toStepping=function(e){return e=b(this.xVal,this.xPct,e),
this.direction&&(e=100-e),e},_.prototype.fromStepping=function(e){return this.direction&&(e=100-e),y(this.xVal,this.xPct,e)},_.prototype.getStep=function(e){return this.direction&&(e=100-e),e=S(this.xPct,this.xSteps,this.snap,e),this.direction&&(e=100-e),e},_.prototype.getApplicableStep=function(e){var n=g(e,this.xPct),t=100===e?2:1;return[this.xNumSteps[n-2],this.xVal[n-t],this.xNumSteps[n-t]]},_.prototype.convert=function(e){return this.getStep(this.toStepping(e))};var V={to:function(e){return void 0!==e&&e.toFixed(2)},from:Number};return{create:q}})},function(e,n,t){var r,r;(function(n){!function(n){e.exports=n()}(function(){return function e(n,t,o){function i(s,l){if(!t[s]){if(!n[s]){var c="function"==typeof r&&r;if(!l&&c)return r(s,!0);if(a)return a(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var d=t[s]={exports:{}};n[s][0].call(d.exports,function(e){var t=n[s][1][e];return i(t?t:e)},d,d.exports,e,n,t,o)}return t[s].exports}for(var a="function"==typeof r&&r,s=0;s<o.length;s++)i(o[s]);return i}({1:[function(e,n,t){"use strict";function r(){}function o(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=b,this.queue=[],this.outcome=void 0,e!==r&&l(this,e)}function i(e,n,t){this.promise=e,"function"==typeof n&&(this.onFulfilled=n,this.callFulfilled=this.otherCallFulfilled),"function"==typeof t&&(this.onRejected=t,this.callRejected=this.otherCallRejected)}function a(e,n,t){h(function(){var r;try{r=n(t)}catch(o){return m.reject(e,o)}r===e?m.reject(e,new TypeError("Cannot resolve promise with itself")):m.resolve(e,r)})}function s(e){var n=e&&e.then;if(e&&"object"==typeof e&&"function"==typeof n)return function(){n.apply(e,arguments)}}function l(e,n){function t(n){i||(i=!0,m.reject(e,n))}function r(n){i||(i=!0,m.resolve(e,n))}function o(){n(r,t)}var i=!1,a=c(o);"error"===a.status&&t(a.value)}function c(e,n){var t={};try{t.value=e(n),t.status="success"}catch(r){t.status="error",t.value=r}return t}function u(e){return e instanceof this?e:m.resolve(new this(r),e)}function d(e){var n=new this(r);return m.reject(n,e)}function f(e){function n(e,n){function r(e){a[n]=e,++s!==o||i||(i=!0,m.resolve(c,a))}t.resolve(e).then(r,function(e){i||(i=!0,m.reject(c,e))})}var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var o=e.length,i=!1;if(!o)return this.resolve([]);for(var a=new Array(o),s=0,l=-1,c=new this(r);++l<o;)n(e[l],l);return c}function p(e){function n(e){t.resolve(e).then(function(e){i||(i=!0,m.resolve(s,e))},function(e){i||(i=!0,m.reject(s,e))})}var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var o=e.length,i=!1;if(!o)return this.resolve([]);for(var a=-1,s=new this(r);++a<o;)n(e[a]);return s}var h=e(2),m={},v=["REJECTED"],g=["FULFILLED"],b=["PENDING"];n.exports=t=o,o.prototype["catch"]=function(e){return this.then(null,e)},o.prototype.then=function(e,n){if("function"!=typeof e&&this.state===g||"function"!=typeof n&&this.state===v)return this;var t=new this.constructor(r);if(this.state!==b){var o=this.state===g?e:n;a(t,o,this.outcome)}else this.queue.push(new i(t,e,n));return t},i.prototype.callFulfilled=function(e){m.resolve(this.promise,e)},i.prototype.otherCallFulfilled=function(e){a(this.promise,this.onFulfilled,e)},i.prototype.callRejected=function(e){m.reject(this.promise,e)},i.prototype.otherCallRejected=function(e){a(this.promise,this.onRejected,e)},m.resolve=function(e,n){var t=c(s,n);if("error"===t.status)return m.reject(e,t.value);var r=t.value;if(r)l(e,r);else{e.state=g,e.outcome=n;for(var o=-1,i=e.queue.length;++o<i;)e.queue[o].callFulfilled(n)}return e},m.reject=function(e,n){e.state=v,e.outcome=n;for(var t=-1,r=e.queue.length;++t<r;)e.queue[t].callRejected(n);return e},t.resolve=u,t.reject=d,t.all=f,t.race=p},{2:2}],2:[function(e,t,r){(function(e){"use strict";function n(){u=!0;for(var e,n,t=d.length;t;){for(n=d,d=[],e=-1;++e<t;)n[e]();t=d.length}u=!1}function r(e){1!==d.push(e)||u||o()}var o,i=e.MutationObserver||e.WebKitMutationObserver;if(i){var a=0,s=new i(n),l=e.document.createTextNode("");s.observe(l,{characterData:!0}),o=function(){l.data=a=++a%2}}else if(e.setImmediate||"undefined"==typeof e.MessageChannel)o="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var t=e.document.createElement("script");t.onreadystatechange=function(){n(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},e.document.documentElement.appendChild(t)}:function(){setTimeout(n,0)};else{var c=new e.MessageChannel;c.port1.onmessage=n,o=function(){c.port2.postMessage(0)}}var u,d=[];t.exports=r}).call(this,"undefined"!=typeof n?n:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],3:[function(e,t,r){(function(n){"use strict";"function"!=typeof n.Promise&&(n.Promise=e(1))}).call(this,"undefined"!=typeof n?n:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{1:1}],4:[function(e,n,t){"use strict";function r(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function o(){return"undefined"!=typeof indexedDB?indexedDB:"undefined"!=typeof webkitIndexedDB?webkitIndexedDB:"undefined"!=typeof mozIndexedDB?mozIndexedDB:"undefined"!=typeof OIndexedDB?OIndexedDB:"undefined"!=typeof msIndexedDB?msIndexedDB:void 0}function i(){try{return!!ie&&(!("undefined"!=typeof openDatabase&&"undefined"!=typeof navigator&&navigator.userAgent&&/Safari/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent))&&(ie&&"function"==typeof ie.open&&"undefined"!=typeof IDBKeyRange))}catch(e){return!1}}function a(){return"function"==typeof openDatabase}function s(){try{return"undefined"!=typeof localStorage&&"setItem"in localStorage&&localStorage.setItem}catch(e){return!1}}function l(e,n){e=e||[],n=n||{};try{return new Blob(e,n)}catch(t){if("TypeError"!==t.name)throw t;for(var r="undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder,o=new r,i=0;i<e.length;i+=1)o.append(e[i]);return o.getBlob(n.type)}}function c(e,n){n&&e.then(function(e){n(null,e)},function(e){n(e)})}function u(e){for(var n=e.length,t=new ArrayBuffer(n),r=new Uint8Array(t),o=0;o<n;o++)r[o]=e.charCodeAt(o);return t}function d(e){return new le(function(n){var t=l([""]);e.objectStore(ce).put(t,"key"),e.onabort=function(e){e.preventDefault(),e.stopPropagation(),n(!1)},e.oncomplete=function(){var e=navigator.userAgent.match(/Chrome\/(\d+)/),t=navigator.userAgent.match(/Edge\//);n(t||!e||parseInt(e[1],10)>=43)}})["catch"](function(){return!1})}function f(e){return"boolean"==typeof ae?le.resolve(ae):d(e).then(function(e){return ae=e})}function p(e){var n=se[e.name],t={};t.promise=new le(function(e){t.resolve=e}),n.deferredOperations.push(t),n.dbReady?n.dbReady=n.dbReady.then(function(){return t.promise}):n.dbReady=t.promise}function h(e){var n=se[e.name],t=n.deferredOperations.pop();t&&t.resolve()}function m(e,n){return new le(function(t,r){if(e.db){if(!n)return t(e.db);p(e),e.db.close()}var o=[e.name];n&&o.push(e.version);var i=ie.open.apply(ie,o);n&&(i.onupgradeneeded=function(n){var t=i.result;try{t.createObjectStore(e.storeName),n.oldVersion<=1&&t.createObjectStore(ce)}catch(r){if("ConstraintError"!==r.name)throw r;console.warn('The database "'+e.name+'" has been upgraded from version '+n.oldVersion+" to version "+n.newVersion+', but the storage "'+e.storeName+'" already exists.')}}),i.onerror=function(){r(i.error)},i.onsuccess=function(){t(i.result),h(e)}})}function v(e){return m(e,!1)}function g(e){return m(e,!0)}function b(e,n){if(!e.db)return!0;var t=!e.db.objectStoreNames.contains(e.storeName),r=e.version<e.db.version,o=e.version>e.db.version;if(r&&(e.version!==n&&console.warn('The database "'+e.name+"\" can't be downgraded from version "+e.db.version+" to version "+e.version+"."),e.version=e.db.version),o||t){if(t){var i=e.db.version+1;i>e.version&&(e.version=i)}return!0}return!1}function y(e){return new le(function(n,t){var r=new FileReader;r.onerror=t,r.onloadend=function(t){var r=btoa(t.target.result||"");n({__local_forage_encoded_blob:!0,data:r,type:e.type})},r.readAsBinaryString(e)})}function S(e){var n=u(atob(e.data));return l([n],{type:e.type})}function w(e){return e&&e.__local_forage_encoded_blob}function x(e){var n=this,t=n._initReady().then(function(){var e=se[n._dbInfo.name];if(e&&e.dbReady)return e.dbReady});return t.then(e,e),t}function _(e){function n(){return le.resolve()}var t=this,r={db:null};if(e)for(var o in e)r[o]=e[o];se||(se={});var i=se[r.name];i||(i={forages:[],db:null,dbReady:null,deferredOperations:[]},se[r.name]=i),i.forages.push(t),t._initReady||(t._initReady=t.ready,t.ready=x);for(var a=[],s=0;s<i.forages.length;s++){var l=i.forages[s];l!==t&&a.push(l._initReady()["catch"](n))}var c=i.forages.slice(0);return le.all(a).then(function(){return r.db=i.db,v(r)}).then(function(e){return r.db=e,b(r,t._defaultConfig.version)?g(r):e}).then(function(e){r.db=i.db=e,t._dbInfo=r;for(var n=0;n<c.length;n++){var o=c[n];o!==t&&(o._dbInfo.db=r.db,o._dbInfo.version=r.version)}})}function E(e,n){var t=this;"string"!=typeof e&&(console.warn(e+" used as a key, but it is not a string."),e=String(e));var r=new le(function(n,r){t.ready().then(function(){var o=t._dbInfo,i=o.db.transaction(o.storeName,"readonly").objectStore(o.storeName),a=i.get(e);a.onsuccess=function(){var e=a.result;void 0===e&&(e=null),w(e)&&(e=S(e)),n(e)},a.onerror=function(){r(a.error)}})["catch"](r)});return c(r,n),r}function k(e,n){var t=this,r=new le(function(n,r){t.ready().then(function(){var o=t._dbInfo,i=o.db.transaction(o.storeName,"readonly").objectStore(o.storeName),a=i.openCursor(),s=1;a.onsuccess=function(){var t=a.result;if(t){var r=t.value;w(r)&&(r=S(r));var o=e(r,t.key,s++);void 0!==o?n(o):t["continue"]()}else n()},a.onerror=function(){r(a.error)}})["catch"](r)});return c(r,n),r}function C(e,n,t){var r=this;"string"!=typeof e&&(console.warn(e+" used as a key, but it is not a string."),e=String(e));var o=new le(function(t,o){var i;r.ready().then(function(){return i=r._dbInfo,n instanceof Blob?f(i.db).then(function(e){return e?n:y(n)}):n}).then(function(n){var r=i.db.transaction(i.storeName,"readwrite"),a=r.objectStore(i.storeName);null===n&&(n=void 0),r.oncomplete=function(){void 0===n&&(n=null),t(n)},r.onabort=r.onerror=function(){var e=s.error?s.error:s.transaction.error;o(e)};var s=a.put(n,e)})["catch"](o)});return c(o,t),o}function I(e,n){var t=this;"string"!=typeof e&&(console.warn(e+" used as a key, but it is not a string."),e=String(e));var r=new le(function(n,r){t.ready().then(function(){var o=t._dbInfo,i=o.db.transaction(o.storeName,"readwrite"),a=i.objectStore(o.storeName),s=a["delete"](e);i.oncomplete=function(){n()},i.onerror=function(){r(s.error)},i.onabort=function(){var e=s.error?s.error:s.transaction.error;r(e)}})["catch"](r)});return c(r,n),r}function U(e){var n=this,t=new le(function(e,t){n.ready().then(function(){var r=n._dbInfo,o=r.db.transaction(r.storeName,"readwrite"),i=o.objectStore(r.storeName),a=i.clear();o.oncomplete=function(){e()},o.onabort=o.onerror=function(){var e=a.error?a.error:a.transaction.error;t(e)}})["catch"](t)});return c(t,e),t}function N(e){var n=this,t=new le(function(e,t){n.ready().then(function(){var r=n._dbInfo,o=r.db.transaction(r.storeName,"readonly").objectStore(r.storeName),i=o.count();i.onsuccess=function(){e(i.result)},i.onerror=function(){t(i.error)}})["catch"](t)});return c(t,e),t}function O(e,n){var t=this,r=new le(function(n,r){return e<0?void n(null):void t.ready().then(function(){var o=t._dbInfo,i=o.db.transaction(o.storeName,"readonly").objectStore(o.storeName),a=!1,s=i.openCursor();s.onsuccess=function(){var t=s.result;return t?void(0===e?n(t.key):a?n(t.key):(a=!0,t.advance(e))):void n(null)},s.onerror=function(){r(s.error)}})["catch"](r)});return c(r,n),r}function j(e){var n=this,t=new le(function(e,t){n.ready().then(function(){var r=n._dbInfo,o=r.db.transaction(r.storeName,"readonly").objectStore(r.storeName),i=o.openCursor(),a=[];i.onsuccess=function(){var n=i.result;return n?(a.push(n.key),void n["continue"]()):void e(a)},i.onerror=function(){t(i.error)}})["catch"](t)});return c(t,e),t}function A(e){var n,t,r,o,i,a=.75*e.length,s=e.length,l=0;"="===e[e.length-1]&&(a--,"="===e[e.length-2]&&a--);var c=new ArrayBuffer(a),u=new Uint8Array(c);for(n=0;n<s;n+=4)t=de.indexOf(e[n]),r=de.indexOf(e[n+1]),o=de.indexOf(e[n+2]),i=de.indexOf(e[n+3]),u[l++]=t<<2|r>>4,u[l++]=(15&r)<<4|o>>2,u[l++]=(3&o)<<6|63&i;return c}function L(e){var n,t=new Uint8Array(e),r="";for(n=0;n<t.length;n+=3)r+=de[t[n]>>2],r+=de[(3&t[n])<<4|t[n+1]>>4],r+=de[(15&t[n+1])<<2|t[n+2]>>6],r+=de[63&t[n+2]];return t.length%3===2?r=r.substring(0,r.length-1)+"=":t.length%3===1&&(r=r.substring(0,r.length-2)+"=="),r}function D(e,n){var t="";if(e&&(t=e.toString()),e&&("[object ArrayBuffer]"===e.toString()||e.buffer&&"[object ArrayBuffer]"===e.buffer.toString())){var r,o=he;e instanceof ArrayBuffer?(r=e,o+=ve):(r=e.buffer,"[object Int8Array]"===t?o+=be:"[object Uint8Array]"===t?o+=ye:"[object Uint8ClampedArray]"===t?o+=Se:"[object Int16Array]"===t?o+=we:"[object Uint16Array]"===t?o+=_e:"[object Int32Array]"===t?o+=xe:"[object Uint32Array]"===t?o+=Ee:"[object Float32Array]"===t?o+=ke:"[object Float64Array]"===t?o+=Ce:n(new Error("Failed to get type for BinaryArray"))),n(o+L(r))}else if("[object Blob]"===t){var i=new FileReader;i.onload=function(){var t=fe+e.type+"~"+L(this.result);n(he+ge+t)},i.readAsArrayBuffer(e)}else try{n(JSON.stringify(e))}catch(a){console.error("Couldn't convert value into a JSON string: ",e),n(null,a)}}function T(e){if(e.substring(0,me)!==he)return JSON.parse(e);var n,t=e.substring(Ie),r=e.substring(me,Ie);if(r===ge&&pe.test(t)){var o=t.match(pe);n=o[1],t=t.substring(o[0].length)}var i=A(t);switch(r){case ve:return i;case ge:return l([i],{type:n});case be:return new Int8Array(i);case ye:return new Uint8Array(i);case Se:return new Uint8ClampedArray(i);case we:return new Int16Array(i);case _e:return new Uint16Array(i);case xe:return new Int32Array(i);case Ee:return new Uint32Array(i);case ke:return new Float32Array(i);case Ce:return new Float64Array(i);default:throw new Error("Unkown type: "+r)}}function B(e){var n=this,t={db:null};if(e)for(var r in e)t[r]="string"!=typeof e[r]?e[r].toString():e[r];var o=new le(function(e,r){try{t.db=openDatabase(t.name,String(t.version),t.description,t.size)}catch(o){return r(o)}t.db.transaction(function(o){o.executeSql("CREATE TABLE IF NOT EXISTS "+t.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],function(){n._dbInfo=t,e()},function(e,n){r(n)})})});return t.serializer=Ue,o}function M(e,n){var t=this;"string"!=typeof e&&(console.warn(e+" used as a key, but it is not a string."),e=String(e));var r=new le(function(n,r){t.ready().then(function(){var o=t._dbInfo;o.db.transaction(function(t){t.executeSql("SELECT * FROM "+o.storeName+" WHERE key = ? LIMIT 1",[e],function(e,t){var r=t.rows.length?t.rows.item(0).value:null;r&&(r=o.serializer.deserialize(r)),n(r)},function(e,n){r(n)})})})["catch"](r)});return c(r,n),r}function P(e,n){var t=this,r=new le(function(n,r){t.ready().then(function(){var o=t._dbInfo;o.db.transaction(function(t){t.executeSql("SELECT * FROM "+o.storeName,[],function(t,r){for(var i=r.rows,a=i.length,s=0;s<a;s++){var l=i.item(s),c=l.value;if(c&&(c=o.serializer.deserialize(c)),c=e(c,l.key,s+1),void 0!==c)return void n(c)}n()},function(e,n){r(n)})})})["catch"](r)});return c(r,n),r}function R(e,n,t){var r=this;"string"!=typeof e&&(console.warn(e+" used as a key, but it is not a string."),e=String(e));var o=new le(function(t,o){r.ready().then(function(){void 0===n&&(n=null);var i=n,a=r._dbInfo;a.serializer.serialize(n,function(n,r){r?o(r):a.db.transaction(function(r){r.executeSql("INSERT OR REPLACE INTO "+a.storeName+" (key, value) VALUES (?, ?)",[e,n],function(){t(i)},function(e,n){o(n)})},function(e){e.code===e.QUOTA_ERR&&o(e)})})})["catch"](o)});return c(o,t),o}function F(e,n){var t=this;"string"!=typeof e&&(console.warn(e+" used as a key, but it is not a string."),e=String(e));var r=new le(function(n,r){t.ready().then(function(){var o=t._dbInfo;o.db.transaction(function(t){t.executeSql("DELETE FROM "+o.storeName+" WHERE key = ?",[e],function(){n()},function(e,n){r(n)})})})["catch"](r)});return c(r,n),r}function z(e){var n=this,t=new le(function(e,t){n.ready().then(function(){var r=n._dbInfo;r.db.transaction(function(n){n.executeSql("DELETE FROM "+r.storeName,[],function(){e()},function(e,n){t(n)})})})["catch"](t)});return c(t,e),t}function q(e){var n=this,t=new le(function(e,t){n.ready().then(function(){var r=n._dbInfo;r.db.transaction(function(n){n.executeSql("SELECT COUNT(key) as c FROM "+r.storeName,[],function(n,t){var r=t.rows.item(0).c;e(r)},function(e,n){t(n)})})})["catch"](t)});return c(t,e),t}function V(e,n){var t=this,r=new le(function(n,r){t.ready().then(function(){var o=t._dbInfo;o.db.transaction(function(t){t.executeSql("SELECT key FROM "+o.storeName+" WHERE id = ? LIMIT 1",[e+1],function(e,t){var r=t.rows.length?t.rows.item(0).key:null;n(r)},function(e,n){r(n)})})})["catch"](r)});return c(r,n),r}function H(e){var n=this,t=new le(function(e,t){n.ready().then(function(){var r=n._dbInfo;r.db.transaction(function(n){n.executeSql("SELECT key FROM "+r.storeName,[],function(n,t){for(var r=[],o=0;o<t.rows.length;o++)r.push(t.rows.item(o).key);e(r)},function(e,n){t(n)})})})["catch"](t)});return c(t,e),t}function W(e){var n=this,t={};if(e)for(var r in e)t[r]=e[r];return t.keyPrefix=t.name+"/",t.storeName!==n._defaultConfig.storeName&&(t.keyPrefix+=t.storeName+"/"),n._dbInfo=t,t.serializer=Ue,le.resolve()}function Q(e){var n=this,t=n.ready().then(function(){for(var e=n._dbInfo.keyPrefix,t=localStorage.length-1;t>=0;t--){var r=localStorage.key(t);0===r.indexOf(e)&&localStorage.removeItem(r)}});return c(t,e),t}function X(e,n){var t=this;"string"!=typeof e&&(console.warn(e+" used as a key, but it is not a string."),e=String(e));var r=t.ready().then(function(){var n=t._dbInfo,r=localStorage.getItem(n.keyPrefix+e);return r&&(r=n.serializer.deserialize(r)),r});return c(r,n),r}function G(e,n){var t=this,r=t.ready().then(function(){for(var n=t._dbInfo,r=n.keyPrefix,o=r.length,i=localStorage.length,a=1,s=0;s<i;s++){var l=localStorage.key(s);if(0===l.indexOf(r)){var c=localStorage.getItem(l);if(c&&(c=n.serializer.deserialize(c)),c=e(c,l.substring(o),a++),void 0!==c)return c}}});return c(r,n),r}function Y(e,n){var t=this,r=t.ready().then(function(){var n,r=t._dbInfo;try{n=localStorage.key(e)}catch(o){n=null}return n&&(n=n.substring(r.keyPrefix.length)),n});return c(r,n),r}function J(e){var n=this,t=n.ready().then(function(){for(var e=n._dbInfo,t=localStorage.length,r=[],o=0;o<t;o++)0===localStorage.key(o).indexOf(e.keyPrefix)&&r.push(localStorage.key(o).substring(e.keyPrefix.length));return r});return c(t,e),t}function K(e){var n=this,t=n.keys().then(function(e){return e.length});return c(t,e),t}function Z(e,n){var t=this;"string"!=typeof e&&(console.warn(e+" used as a key, but it is not a string."),e=String(e));var r=t.ready().then(function(){var n=t._dbInfo;localStorage.removeItem(n.keyPrefix+e)});return c(r,n),r}function $(e,n,t){var r=this;"string"!=typeof e&&(console.warn(e+" used as a key, but it is not a string."),e=String(e));var o=r.ready().then(function(){void 0===n&&(n=null);var t=n;return new le(function(o,i){var a=r._dbInfo;a.serializer.serialize(n,function(n,r){if(r)i(r);else try{localStorage.setItem(a.keyPrefix+e,n),o(t)}catch(s){"QuotaExceededError"!==s.name&&"NS_ERROR_DOM_QUOTA_REACHED"!==s.name||i(s),i(s)}})})});return c(o,t),o}function ee(e,n,t){"function"==typeof n&&e.then(n),"function"==typeof t&&e["catch"](t)}function ne(e,n){e[n]=function(){var t=arguments;return e.ready().then(function(){return e[n].apply(e,t)})}}function te(){for(var e=1;e<arguments.length;e++){var n=arguments[e];if(n)for(var t in n)n.hasOwnProperty(t)&&(Me(n[t])?arguments[0][t]=n[t].slice():arguments[0][t]=n[t])}return arguments[0]}function re(e){for(var n in Ae)if(Ae.hasOwnProperty(n)&&Ae[n]===e)return!0;return!1}var oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},ie=o();"undefined"==typeof Promise&&"undefined"!=typeof e&&e(3);var ae,se,le=Promise,ce="local-forage-detect-blob-support",ue={_driver:"asyncStorage",_initStorage:_,iterate:k,getItem:E,setItem:C,removeItem:I,clear:U,length:N,key:O,keys:j},de="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",fe="~~local_forage_type~",pe=/^~~local_forage_type~([^~]+)~/,he="__lfsc__:",me=he.length,ve="arbf",ge="blob",be="si08",ye="ui08",Se="uic8",we="si16",xe="si32",_e="ur16",Ee="ui32",ke="fl32",Ce="fl64",Ie=me+ve.length,Ue={serialize:D,deserialize:T,stringToBuffer:A,bufferToString:L},Ne={_driver:"webSQLStorage",_initStorage:B,iterate:P,getItem:M,setItem:R,removeItem:F,clear:z,length:q,key:V,keys:H},Oe={_driver:"localStorageWrapper",_initStorage:W,iterate:G,getItem:X,setItem:$,removeItem:Z,clear:Q,length:K,key:Y,keys:J},je={},Ae={INDEXEDDB:"asyncStorage",LOCALSTORAGE:"localStorageWrapper",WEBSQL:"webSQLStorage"},Le=[Ae.INDEXEDDB,Ae.WEBSQL,Ae.LOCALSTORAGE],De=["clear","getItem","iterate","key","keys","length","removeItem","setItem"],Te={description:"",driver:Le.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1},Be={};Be[Ae.INDEXEDDB]=i(),Be[Ae.WEBSQL]=a(),Be[Ae.LOCALSTORAGE]=s();var Me=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},Pe=function(){function e(n){r(this,e),this.INDEXEDDB=Ae.INDEXEDDB,this.LOCALSTORAGE=Ae.LOCALSTORAGE,this.WEBSQL=Ae.WEBSQL,this._defaultConfig=te({},Te),this._config=te({},this._defaultConfig,n),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver)}return e.prototype.config=function(e){if("object"===("undefined"==typeof e?"undefined":oe(e))){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var n in e)"storeName"===n&&(e[n]=e[n].replace(/\W/g,"_")),this._config[n]=e[n];return"driver"in e&&e.driver&&this.setDriver(this._config.driver),!0}return"string"==typeof e?this._config[e]:this._config},e.prototype.defineDriver=function(e,n,t){var r=new le(function(n,t){try{var r=e._driver,o=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver"),i=new Error("Custom driver name already in use: "+e._driver);if(!e._driver)return void t(o);if(re(e._driver))return void t(i);for(var a=De.concat("_initStorage"),s=0;s<a.length;s++){var l=a[s];if(!l||!e[l]||"function"!=typeof e[l])return void t(o)}var c=le.resolve(!0);"_support"in e&&(c=e._support&&"function"==typeof e._support?e._support():le.resolve(!!e._support)),c.then(function(t){Be[r]=t,je[r]=e,n()},t)}catch(u){t(u)}});return ee(r,n,t),r},e.prototype.driver=function(){return this._driver||null},e.prototype.getDriver=function(e,n,t){var r=this,o=le.resolve().then(function(){if(!re(e)){if(je[e])return je[e];throw new Error("Driver not found.")}switch(e){case r.INDEXEDDB:return ue;case r.LOCALSTORAGE:return Oe;case r.WEBSQL:return Ne}});return ee(o,n,t),o},e.prototype.getSerializer=function(e){var n=le.resolve(Ue);return ee(n,e),n},e.prototype.ready=function(e){var n=this,t=n._driverSet.then(function(){return null===n._ready&&(n._ready=n._initDriver()),n._ready});return ee(t,e,e),t},e.prototype.setDriver=function(e,n,t){function r(){i._config.driver=i.driver()}function o(e){return function(){function n(){for(;t<e.length;){var o=e[t];return t++,i._dbInfo=null,i._ready=null,i.getDriver(o).then(function(e){return i._extend(e),r(),i._ready=i._initStorage(i._config),i._ready})["catch"](n)}r();var a=new Error("No available storage method found.");return i._driverSet=le.reject(a),i._driverSet}var t=0;return n()}}var i=this;Me(e)||(e=[e]);var a=this._getSupportedDrivers(e),s=null!==this._driverSet?this._driverSet["catch"](function(){return le.resolve()}):le.resolve();return this._driverSet=s.then(function(){var e=a[0];return i._dbInfo=null,i._ready=null,i.getDriver(e).then(function(e){i._driver=e._driver,r(),i._wrapLibraryMethodsWithReady(),i._initDriver=o(a)})})["catch"](function(){r();var e=new Error("No available storage method found.");return i._driverSet=le.reject(e),i._driverSet}),ee(this._driverSet,n,t),this._driverSet},e.prototype.supports=function(e){return!!Be[e]},e.prototype._extend=function(e){te(this,e)},e.prototype._getSupportedDrivers=function(e){for(var n=[],t=0,r=e.length;t<r;t++){var o=e[t];this.supports(o)&&n.push(o)}return n},e.prototype._wrapLibraryMethodsWithReady=function(){for(var e=0;e<De.length;e++)ne(this,De[e])},e.prototype.createInstance=function(n){return new e(n)},e}(),Re=new Pe;n.exports=Re},{3:3}]},{},[4])(4)})}).call(n,function(){return this}())}])});